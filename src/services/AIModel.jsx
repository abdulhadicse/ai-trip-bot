import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                {
                    text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n",
                },
            ],
        },
        {
            role: "model",
            parts: [
                {
                    text: '```json\n{\n  "hotelOptions": [\n    {\n      "name": "Circus Circus Hotel & Casino",\n      "address": "2880 Las Vegas Blvd S, Las Vegas, NV 89109",\n      "price": {\n        "min": 30,\n        "max": 100\n      },\n      "imageUrl": "https://example.com/circuscircus.jpg", \n      "geoCoordinates": {\n        "latitude": 36.1268,\n        "longitude": -115.1732\n      },\n      "rating": 3.5,\n      "description": "Budget-friendly hotel with a circus theme, offering various entertainment options."\n    },\n    {\n      "name": "The D Las Vegas",\n      "address": "300 Fremont St, Las Vegas, NV 89101",\n      "price": {\n        "min": 40,\n        "max": 120\n      },\n      "imageUrl": "https://example.com/thed.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1667,\n        "longitude": -115.1407\n      },\n      "rating": 4.0,\n      "description": "Downtown hotel with a retro vibe, known for its lively atmosphere and affordable rates."\n    },\n    {\n      "name": "Excalibur Hotel & Casino",\n      "address": "3850 Las Vegas Blvd S, Las Vegas, NV 89109",\n      "price": {\n        "min": 50,\n        "max": 150\n      },\n      "imageUrl": "https://example.com/excalibur.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1001,\n        "longitude": -115.1732\n      },\n      "rating": 3.8,\n      "description": "Medieval-themed hotel on the south strip, offering various amenities and affordable options."\n    }\n\n  ],\n  "itinerary": {\n    "day1": [\n      {\n        "name": "Fremont Street Experience",\n        "details": "Explore the vibrant pedestrian mall with its light show and street performers.",\n        "imageUrl": "https://example.com/fremontstreet.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1693,\n          "longitude": -115.1419\n        },\n        "ticketPricing": "Free",\n        "rating": 4.2,\n        "bestTime": "Evening (for the light show)",\n        "travelTime": "15 minutes (from most downtown hotels)"\n      },\n      {\n        "name": "Downtown Container Park",\n        "details": "Unique shopping and dining experience in repurposed shipping containers.",\n        "imageUrl": "https://example.com/containerpark.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1645,\n          "longitude": -115.1388\n        },\n        "ticketPricing": "Free entry, prices vary for shops and restaurants",\n        "rating": 4.0,\n        "bestTime": "Afternoon or early evening",\n        "travelTime": "10 minutes from Fremont Street Experience"\n      }\n    ],\n    "day2": [\n      {\n        "name": "High Roller Observation Wheel",\n        "details": "Enjoy breathtaking views of the Las Vegas Strip from a giant observation wheel.",\n        "imageUrl": "https://example.com/highroller.jpg",\n        "geoCoordinates": {\n          "latitude": 36.0996,\n          "longitude": -115.1713\n        },\n        "ticketPricing": { "adult": 30, "child": 20},\n        "rating": 4.5,\n        "bestTime": "Late afternoon or early evening for sunset views",\n        "travelTime": "20 minutes (from most Strip hotels)"\n      },\n      {\n        "name": "Bellagio Fountains",\n        "details": "Watch the mesmerizing water, music, and light show at the Bellagio.",\n        "imageUrl": "https://example.com/bellagiofountains.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1107,\n          "longitude": -115.1719\n        },\n        "ticketPricing": "Free",\n        "rating": 4.8,\n        "bestTime": "Evenings (shows are more frequent)",\n        "travelTime": "5 minutes from High Roller"\n      }\n    ],\n    "day3": [\n      {\n        "name": "Seven Magic Mountains",\n        "details": "Visit this colorful art installation south of Las Vegas (requires car rental or taxi).",\n        "imageUrl": "https://example.com/sevenmagicmountains.jpg",\n        "geoCoordinates": {\n          "latitude": 36.0324,\n          "longitude": -114.9717\n        },\n        "ticketPricing": "Free",\n        "rating": 4.3,\n        "bestTime": "Anytime, but early morning or late afternoon for better light",\n        "travelTime": "30-45 minutes by car"\n      },\n      {\n        "name": "Neon Museum",\n        "details": "Explore the history of Las Vegas through its iconic neon signs.",\n        "imageUrl": "https://example.com/neonmuseum.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1756,\n          "longitude": -115.1343\n        },\n        "ticketPricing": { "adult": 25, "child": 15},\n        "rating": 4.5,\n        "bestTime": "Afternoon or early evening",\n        "travelTime": "20 minutes by car or taxi from Seven Magic Mountains or from downtown"\n      }\n    ]\n  }\n}\n```\n\n**Note:**  Image URLs are placeholders. Replace them with actual image URLs from reputable sources.  Prices are estimates and can vary depending on the season and availability. Travel times are approximations and may be affected by traffic.  Always check official websites for the most up-to-date information on ticket prices, operating hours, and potential closures.\n',
                },
            ],
        },
        {
            role: "user",
            parts: [
                {
                    text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
                },
            ],
        },
        {
            role: "model",
            parts: [
                {
                    text: '```json\n{\n  "hotelOptions": [\n    {\n      "name": "Circus Circus Hotel & Casino",\n      "address": "2880 Las Vegas Blvd S, Las Vegas, NV 89109",\n      "priceRange": {"min": 40, "max": 100},\n      "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/CircusCircusLasVegasSign.jpg/1280px-CircusCircusLasVegasSign.jpg",\n      "geoCoordinates": {"latitude": 36.1268, "longitude": -115.1732},\n      "rating": 3.5,\n      "description": "Budget-friendly hotel with a circus theme, offering various entertainment options.  Expect a lively, sometimes noisy atmosphere."\n    },\n    {\n      "name": "The D Las Vegas",\n      "address": "300 Fremont St, Las Vegas, NV 89101",\n      "priceRange": {"min": 50, "max": 150},\n      "imageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/10/22/8a/the-d-hotel-and-casino.jpg?w=1200&h=-1&s=1",\n      "geoCoordinates": {"latitude": 36.1667, "longitude": -115.1407},\n      "rating": 4.0,\n      "description": "Downtown hotel with a retro vibe, known for its lively atmosphere and affordable rates.  Good location for exploring Fremont Street."\n    },\n    {\n      "name": "Main Street Station Casino, Brewery & Hotel",\n      "address": "200 S. Main Street, Las Vegas, NV 89101",\n      "priceRange": {"min": 60, "max": 120},\n      "imageUrl": "https://www.vegasexperience.com/wp-content/uploads/2021/09/Main-Street-Station-Exterior-1024x683.jpg",\n      "geoCoordinates": {"latitude": 36.1692, "longitude": -115.1452},\n      "rating": 4.0,\n      "description": "Historic hotel in downtown Las Vegas offering a more relaxed atmosphere than some of the Strip hotels, with a brewery on-site."\n    }\n  ],\n  "itinerary": {\n    "day1": [\n      {\n        "placeName": "Fremont Street Experience",\n        "placeDetails": "Explore the vibrant pedestrian mall with its Viva Vision light show and street performers.",\n        "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Fremont_Street_Experience_Las_Vegas_at_Night.jpg/1280px-Fremont_Street_Experience_Las_Vegas_at_Night.jpg",\n        "geoCoordinates": {"latitude": 36.1693, "longitude": -115.1419},\n        "ticketPricing": "Free (unless you want to do ziplining)",\n        "travelTime": "Walking distance from most Downtown hotels",\n        "bestTime": "Evening (for the light show)"\n      },\n      {\n        "placeName": "Container Park",\n        "placeDetails": "Unique shopping and dining experience in repurposed shipping containers.",\n        "imageUrl": "https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/2023-04/Downtown-Container-Park-Las-Vegas-Hero.jpg?itok=iJ9dQm7C",\n        "geoCoordinates": {"latitude": 36.1645, "longitude": -115.1388},\n        "ticketPricing": "Free entry, prices vary for shops and restaurants",\n        "travelTime": "Short walk from Fremont Street Experience",\n        "bestTime": "Afternoon or early evening"\n      }\n    ],\n    "day2": [\n      {\n        "placeName": "Las Vegas Strip (Walking Tour)",\n        "placeDetails": "Walk the Strip, admiring the hotels and atmosphere. Focus on free attractions like the Bellagio Fountains and the Mirage Volcano.",\n        "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Las_Vegas_Strip_at_Night.jpg/1280px-Las_Vegas_Strip_at_Night.jpg",\n        "geoCoordinates": {"latitude": 36.11, "longitude": -115.17},  // Approximate coordinates for the Strip\n        "ticketPricing": "Free (except for shows and specific attractions)",\n        "travelTime": "Variable, depending on how far you walk.  Use the monorail or Deuce bus for longer distances.",\n        "bestTime": "Late afternoon/early evening to enjoy the lights"\n      },\n      {\n        "placeName": "Bellagio Fountains",\n        "placeDetails": "Watch the mesmerizing water, music, and light show.",\n        "imageUrl": "https://www.bellagio.com/content/dam/bellagio/images/bellagio-fountains-hero.jpg",\n        "geoCoordinates": {"latitude": 36.1107, "longitude": -115.1719},\n        "ticketPricing": "Free",\n        "travelTime": "Easy walking distance along the Strip",\n        "bestTime": "Evenings (shows are more frequent)"\n      }\n    ],\n    "day3": [\n      {\n        "placeName": "Red Rock Canyon National Conservation Area",\n        "placeDetails": "Enjoy scenic drives and hiking trails (requires a car or ride-sharing service).",\n        "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Red_Rock_Canyon_National_Conservation_Area.jpg/1280px-Red_Rock_Canyon_National_Conservation_Area.jpg",\n        "geoCoordinates": {"latitude": 36.17, "longitude": -115.62}, // Approximate coordinates\n        "ticketPricing": "Entrance fee applies ($15 per vehicle)",\n        "travelTime": "30-45 minutes by car from the Strip",\n        "bestTime": "Morning or late afternoon to avoid midday heat"\n      },\n      {\n        "placeName": "Neon Museum",\n        "placeDetails": "Explore the history of Las Vegas through its iconic neon signs (requires transportation).",\n        "imageUrl": "https://www.neonmuseum.org/wp-content/uploads/2022/09/neon-museum-las-vegas-night-photography-3-1.jpg",\n        "geoCoordinates": {"latitude": 36.1756, "longitude": -115.1343},\n        "ticketPricing": "Tickets around $25-30 per person",\n        "travelTime": "20-30 minutes by car or taxi from Red Rock Canyon or from downtown",\n        "bestTime": "Afternoon or early evening"\n      }\n    ]\n  }\n}\n```\n\nRemember to check the official websites for the most up-to-date pricing and hours of operation before your trip.  Transportation costs (taxis, ride-sharing, or the Deuce bus) should be factored into your budget.  Consider walking as much as possible on the Strip to save money.\n',
                },
            ],
        },
    ],
});
